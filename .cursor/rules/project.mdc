---
description: 
globs: 
alwaysApply: true
---
# Project Overview: AboveRepo VS Code Extension

This project is a Visual Studio Code extension designed to streamline the process of packing the context of the entire repository into a single file, with the ability to copy it to the clipboard for easy sharing or further processing.

## Core Functionality

The extension provides a multi-tab Webview Panel accessible via an Activity Bar icon:

2.  **Context Tab:**
    *   Displays the workspace file tree.
    *   Allows users to select files/folders to include as context.
    *   Features search/filter and refresh capabilities.
    *   Shows currently selected files.
    *   Generates structured XML context:
        *   `<file_map>`: Hierarchical view of selected items.
        *   `<file_contents>`: Code content of selected files.
    *   Includes a text area for `<user_instructions>`.
    *   Provides prompt management (save/load/delete instructions).
    *   Includes fixed `<xml_formatting_instructions>`.
    *   Offers two copy buttons: one with and one without formatting instructions.
    *   (Optional) Token count estimation.
3.  **Apply Tab:**
    *   Allows pasting an LLM's XML response.
    *   Parses the response for file modification actions (`create`, `rewrite`, `modify`, `delete`).
    *   Applies changes to the workspace using VS Code APIs (integrating with undo/redo).
    *   Provides feedback on applied changes.

## UI/UX

*   Integrates with VS Code via Activity Bar and a Webview Panel with tabs.
*   Uses standard VS Code UI components and styling (`@vscode-elements/elements`).

## Technical Stack

*   **Language:** TypeScript
*   **Framework:** VS Code Extension API
*   **UI:** HTML, CSS, JavaScript within Webview, using `@vscode-elements/elements` components. The project uses React 19, which supports web components directly from the `@vscode-elements/elements` package. Type definitions for these components can be found in [global.d.ts](mdc:src/webview-ui/src/global.d.ts).
*   **File System:** `vscode.workspace.fs` and `vscode.workspace.applyEdit`.
*   **Package Manager:** PNPM

## Important Notes
- When updating permissions, update the extension's manifest or capabilities as needed

## Additional Rules

- All file names in the project must use kebab-case (e.g., `context-tab.tsx`, `file-system.ts`) to maintain consistency and ease of use in URLs and imports
- Always use for .. of instead of forEach